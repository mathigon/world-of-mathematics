<!DOCTYPE html><html class="no-js reading"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Combinatorics | World of Mathematics</title><meta name="description" content="Factorials - Permutations - Combinations - Pascal's Triangle - Probability | An interactive textbook"><link rel="canonical" href="http://world.mathigon.org"><meta name="format-detection" content="telephone=no"><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="480"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta http-equiv="cleartype" content="on"><link rel="shortcut icon" type="image/x-icon" href="/images/favicons/favicon.ico"/><link rel="icon" type="image/png" href="/images/favicons/favicon16.png"><link rel="icon" type="image/png" href="/images/favicons/favicon32.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="apple-mobile-web-app-title" content="Mathigon"><link rel="apple-touch-icon" sizes="120x120" href="/images/favicons/favicon120.png"><link rel="apple-touch-icon" sizes="152x152" href="/images/favicons/favicon152.png"><meta name="mobile-web-app-capable" content="yes"><meta name="mobile-web-app-title" content="Mathigon"><meta name="application-name" content="Mathigon"><meta name="msapplication-tooltip" content="Factorials - Permutations - Combinations - Pascal's Triangle - Probability | An interactive textbook"><meta name="msapplication-TileImage" content="/images/favicons/win8.png"><meta name="msapplication-TileColor" content="#d808583"><meta name="msapplication-tap-highlight" content="no"><meta property="og:title" content="Combinatorics | World of Mathematics"/><meta property="og:description" content="Factorials - Permutations - Combinations - Pascal's Triangle - Probability | An interactive textbook"/><meta property="og:url" content="http://world.mathigon.org/Combinatorics"/><meta property="og:type" content="school"/><meta property="og:site_name" content="World of Mathematics"/><meta property="og:image" content="http://world.mathigon.org/images/squares/Combinatorics.jpg"/><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="Combinatorics | World of Mathematics"><meta name="twitter:description" content="Factorials - Permutations - Combinations - Pascal's Triangle - Probability | An interactive textbook"><meta name="twitter:image" content="http://mathigon.org/favicons/twitter.png"><meta name="twitter:site" content="@MathigonProject"><meta name="twitter:creator" content="@philipplegner"><link rel="stylesheet" href="/css/global.min.css?v=4"><link rel="stylesheet" href="/css/layout.min.css?v=5"><link rel="stylesheet" href="/css/articles.min.css?v=4"><script type="text/javascript" src="//use.typekit.net/goo3uth.js"></script><script type="text/javascript">try{Typekit.load();}catch(e){}</script><!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]--></head><body id="body"><div id="m-header"><a id="m-logo" href="https://mathigon.org" target="_blank"></a></div><div id="chapters" class="on0"></div><!--[if lt IE 10]><div id="browserWarning"><p>You are using an outdated browser. Why not try <a href="https://www.google.com/chrome/" target="_blank">Google Chrome</a>?</p></div><![endif]--><div id="shadow"></div><div class="topBarSmall"><div class="tIconPrev"></div><div class="tIconClose"></div></div><article id="A1" data-url=""><div class="topBarA"><div class="topBarBack"><div class="topBarIcon"></div>BACK</div><div class="topBarClose"><div class="topBarIcon"></div></div></div><div class="abox"><header style="background-image: url(images/headers/Combinatorics.jpg)" data-url="Combinatorics"></header><div class="tBody"><div class="ad-box"><div class="ad-caption sansSerif">Advertising <span class="ad-hide">&times;</span></div><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1647564611720065" data-ad-slot="4704777412" data-ad-format="auto"></ins></div><h2>Introduction</h2><div class="rbox"><img src="resources/Combinatorics/euler.jpg" width="320" height="270" alt="leonhard euler" class="shadow"><p class="caption">Leonhard Euler (1707 &#8211; 1783)</p></div><p>Combinatorics is a branch of mathematics which is about <em>counting</em> &#8211; and we will discover many exciting examples of &#8220;things&#8221; you can count.</p><p>First combinatorial problems have been studied by ancient Indian, Arabian and Greek mathematicians. Interest in the subject increased during the 19th and 20th century, together with the development of <a href="Graph_Theory">graph theory</a> and problems like the four colour theorem. Some of the leading mathematicians include Blaise Pascal (1623 &#8211; 1662), Jacob Bernoulli (1654 &#8211; 1705) and Leonhard Euler (1707 &#8211; 1783).</p><p>Combinatorics has many applications in other areas of mathematics, including <a href="Graph_Theory">Graph Theory</a>, <a href="Coding_and_Cryptography">Coding and Cryptography</a>, and <a href="Probability">Probability</a>.</p><h2>Factorials</h2><p>Combinatorics can help us count the number of <em>orders</em> in which something can happen. Consider the following example:</p><blockquote><p><em>In a classroom there are <i data-var="CombA1|3|slider|2,5,1">V.CombA1</i> pupils and <i>V.CombA1</i> chairs standing in a row. In how many different orders can the pupils sit on these chairs?</em></p></blockquote><p>Let us list the possibilities &#8211; in this example the <i>V.CombA1</i> different pupils are represented by <i>V.CombA1</i> different colours of the chairs.</p><p class="centre"><i data-function="$('#factorials0').attr('src','resources/Combinatorics/'+V.CombA1+'P'+V.CombA1+browser.imgExt+'.png').attr('width',V.CombA1==1?29:V.CombA1==2?156:V.CombA1==3?336:586)"><img id="factorials0" src="resources/Combinatorics/3P3.png"></i></p><p>There are <i>switch(V.CombA1) { case 2: 2; break; case 3: 6; break; case 4: 24; break; case 5: 120; break; }</i> different possible orders. Notice that the number of possible orders increases very quickly as the number of pupils increases. With 6 pupils there are 720 different possibilities and it becomes impractical to list all of them. Instead we want a simple formula that tells us how many orders there are for <em>n</em> people to sit on <em>n</em> chairs. <span class="lgrey">Then we can simply substitute 3, 4 or any other number for <em>n</em> to get the right answer.</span></p><p>Suppose we have <i data-var="CombB1|4|slider|1,7,1">V.CombB1</i> chairs and we want to place <i>V.CombB1==1?'one pupil':V.CombB1==2?'two pupils':V.CombB1==3?'three pupils':V.CombB1==4?'four pupils':V.CombB1==5?'five pupils':V.CombB1==6?'six pupils':'seven pupils'</i> on them. <i>switch(V.CombB1) { case 7: 'There are 7 pupils who could sit on the first chair. Then there are 6 pupils who could sit on the second chair. There are 5 choices for the third chair, 4 choices for the fourth chair, 3 choices for the fifth chair, 2 choices for the sixth chair, and only one choice for the final chair.'; break; case 6: 'There are 6 pupils who could sit on the first chair. Then there are 5 pupils who could sit on the second chair. There are 4 choices for the third chair, 3 choices for the fourth chair, 2 choices for the fifth chair, and only one choice for the final chair.'; break; case 5: 'There are 5 pupils who could sit on the first chair. Then there are 4 pupils who could sit on the second chair. There are 3 choices for the third chair, 2 choices for the fourth chair, and only one choice for the final chair.'; break; case 4: 'There are 4 pupils who could sit on the first chair. Then there are 3 pupils who could sit on the second chair. There are 2 choices for the third chair, and only one choice for the final chair.'; break; case 3: 'There are 3 pupils who could sit on the first chair. Then there are 2 pupils who could sit on the second chair. Finally there is only one pupil left to sit on the third chair.'; break; case 2: 'There are 2 pupils who could sit on the first chair. Next, there is only one pupil left to sit on the second chair.'; break; case 1: 'These is only one choice for the single chair.'; break; }</i> In total, there are</p><p class="centre"><i id="factorials" data-function="$('#factorials').css('background-position','0 -'+(70*(V.CombB1-1))+'px')"></i></p><p>possibilities. To simplify notation, mathematicians use a &#8220;!&#8221; called factorial. For example, 5! <span class="lgrey">(&#8220;five factorial&#8221;)</span> is the same as 5 &times; 4 &times; 3 &times; 2 &times; 1. Above we have just shown that there are <em>n</em>! possibilities to order <em>n</em> objects.</p><div class="box frame tabbed"><div class="boxTabBar boxTabBar50"><div class="boxTabLink on">Exercise</div><div class="boxTabLink">Solution</div></div><div class="boxWrap on"><div class="boxTextWrap"><div class="rbox"><img src="resources/Combinatorics/mathsclass.jpg" width="275" height="180" alt="Children in Maths Class"></div><p>In how many different ways could 23 children sit on 23 chairs in a Maths Class? If you have 4 lessons a week and there are 52 weeks in a year, how many years does it take to get trough all different possibilities? <em>Note: The age of the universe is about 14 billion years.</em></p><div class="clear"></div></div></div><div class="boxWrap"><div class="boxTextWrap"><p>For 23 children to sit on 23 chairs there are 23! = 25,852,016,738,884,800,000,000 possibilities (this number is too big to be displayed on a calculator screen). Trying all possibilities would take</p><p class="centre"><span class="frac"><span class="frac-top">23!</span><span class="frac-bot">4 &times; 52</span></span> = 124,288,542,000,000,000,000 years.</p><p>This is nearly 10 million times as long as the current age of the universe!</p></div></div></div><h2>Permutations</h2><p>The method above required us to have the same number of pupils as chairs to sit on. But what happens if there are not enough chairs?</p><blockquote><p><em>How many different possibilities are there for any <i>Math.min(V.CombC1,V.CombC2)</i> of <i data-var="CombC1|3|slider|1,4,1">V.CombC1</i> pupils to sit on <i data-var="CombC2|2|slider|1,4,1">Math.min(V.CombC1,V.CombC2)</i> chairs? <span class="lgrey">Note that <i>Math.max(0,V.CombC1-V.CombC2)</i> will be left standing, which we don&#8217;t have to include when listing the possibilities.</span></em></p></blockquote><p>Let us start again by listing all possibilities:</p><p class="centre"><i data-function="$('#permuations0').attr('src','resources/Combinatorics/'+V.CombC1+'P'+(Math.min(V.CombC1,V.CombC2))+browser.imgExt+'.png').attr('width',(V.CombC1==1&&(Math.min(V.CombC1,V.CombC2))==1)?29:(V.CombC1==2&&(Math.min(V.CombC1,V.CombC2))==1)?92:(V.CombC1==2&&(Math.min(V.CombC1,V.CombC2))==2)?156:(V.CombC1==3&&(Math.min(V.CombC1,V.CombC2))==1)?154:(V.CombC1==3&&(Math.min(V.CombC1,V.CombC2))==2)?250:(V.CombC1==3&&(Math.min(V.CombC1,V.CombC2))==3)?336:(V.CombC1==4&&(Math.min(V.CombC1,V.CombC2))==1)?216:(V.CombC1==4&&(Math.min(V.CombC1,V.CombC2))==2)?480:(V.CombC1==4&&(Math.min(V.CombC1,V.CombC2))==3)?532:586)"><img id="permuations0" src="resources/Combinatorics/3P2.png"></i></p><p>To find a simple formula like the one above, we can think about it in a very similar way.<i>'There are '+V.CombC1+' pupils who could sit on the first chair. '+ (((Math.min(V.CombC1,V.CombC2))==2||(Math.min(V.CombC1,V.CombC2))==3||(Math.min(V.CombC1,V.CombC2))==4)?'Then there are '+(V.CombC1-1)+' pupils who could sit on the second chair. ':'')+ (((Math.min(V.CombC1,V.CombC2))==3||(Math.min(V.CombC1,V.CombC2))==4)?'Then there are '+(V.CombC1-2)+' pupils who could sit on the third chair. ':'')+ (((Math.min(V.CombC1,V.CombC2))==4)?'Finally there is one pupil left to sit on the last chair. ':'')+ ((V.CombC1-(Math.min(V.CombC1,V.CombC2))==1||V.CombC1-(Math.min(V.CombC1,V.CombC2))==2||V.CombC1-(Math.min(V.CombC1,V.CombC2))==3)?'We don&#8217;t care about the remaining '+(V.CombC1-V.CombC2)+' children left standing. ':'')</i> In total there are</p><p class="centre"><i id="myPermutations" data-function="$('#myPermutations').css('background-position','-'+(210*((Math.min(V.CombC1,V.CombC2))-1))+'px -'+(70*(V.CombC1-1))+'px')"></i></p><p>possibilities. Again we should think about generalising this. We start like we would with factorials, but we stop before we reach 1. In fact we stop as soon as we reach the number students without chair. When placing <strong class="blue">7</strong> students on <span class="red"><strong>3</strong></span> chairs their are</p><p class="centre">7 &times; 6 &times; 5 &nbsp;&nbsp;=&nbsp; <span class="frac"><span class="frac-top">7 &times; 6 &times; 5 &times; 4 &times; 3 &times; 2 &times; 1</span><span class="frac-bot"><span style="visibility: hidden">7 &times; 6 &times; 5 &times;</span>4 &times; 3 &times; 2 &times; 1</span></span> &nbsp;=&nbsp; <span class="frac"><span class="frac-top"><strong class="blue">7</strong>!</span><span class="frac-bot">4!</span></span> &nbsp;=&nbsp; <span class="frac"><span class="frac-top"><strong class="blue">7</strong>!</span><span class="frac-bot">(<strong class="blue">7</strong> &#8211; <strong class="red">3</strong>)!</span></span></p><p>possibilities, since the 4 &times; 3 &times; 2 &times; 1 will cancel each other. Again there is a simpler notation for this: <strong class="blue">7</strong><strong>P</strong><strong class="red">3</strong>. If we want to place <em>n</em> objects in <em>m</em> positions there are</p><p class="centre"><em>n</em><strong>P</strong><em>m</em> &nbsp;&nbsp;=&nbsp; <span class="frac"><span class="frac-top"><em>n</em>!</span><span class="frac-bot">(<em>n</em> &#8211; <em>m</em>)!</span></span></p><p>possibilities. The <strong>P</strong> stands for &#8220;<strong>p</strong>ermutations&#8221;, since we are counting the number of permutations (orders) of objects. If <em>m</em> and <em>n</em> are the same, as they were in the problem at the beginning of this article, we have</p><p class="centre"><em>n</em><strong>P</strong><em>n</em> &nbsp;= <span class="frac"><span class="frac-top"><em>n</em>!</span><span class="frac-bot">(<em>n</em> &#8211; <em>n</em>)!</span></span> = <span class="frac"><span class="frac-top"><em>n</em>!</span><span class="frac-bot">0!</span></span>.</p><p>To make sense of this we define 0! = 1. Now <em>n</em><strong>P</strong><em>n</em> = <em>n</em>! as we would expect from our solution to the first problem.</p><div class="box frame tabbed"><div class="boxTabBar boxTabBar50"><div class="boxTabLink on">Exercise</div><div class="boxTabLink">Solution</div></div><div class="boxWrap on"><div class="boxTextWrap"><div class="rbox"><img src="resources/Combinatorics/lock.jpg" width="320" height="200" alt="Four Digit Lock"></div><p>Unfortunately you can&#8217;t remember the code for your four-digit lock. You only know that you didn&#8217;t use any digit more than once. How many different ways do you have to try? What do you conclude about the safety of those locks?</p><div class="clear"></div></div></div><div class="boxWrap"><div class="boxTextWrap"><p>There are 10 digits (0, 1, &#8230;, 9) and each one appears at most once. The number of orderings of these digits is 10<strong>P</strong>4 = 5040. It would take a very long time to test that many combinations, so 4-digit locks are very safe.</p></div></div></div><h2>Combinations</h2><p>Permutations are used when you select objects and care about their order &#8211; like the order of children on chairs. However in some problems you don&#8217;t care about the order and just want to know how many ways there are to select a certain number of objects from a bigger set.</p><blockquote><p><em>In a shop there are five different T-shirts you like, coloured red, blue, green, yellow and black. Unfortunately you only have enough money to buy three of them. How many ways are there to select three T-shirts from the five you like?</em></p></blockquote><p>Here we don&#8217;t care about the order (it doesn&#8217;t matter if we buy black first and then red or red first and then black), only about the number of <strong>combinations</strong> of T-shirts. The possibilities are</p><p class="centre"><img src="resources/Combinatorics/comb1.png" width="702" height="194" alt="10 combinations"></p><p>so there are 10 in total. If we had calculated 5<strong>P</strong>3 = 60, we would have double-counted some possibilities, as the following table shows:</p><p class="centre"><img src="resources/Combinatorics/comb2.png" width="759" height="208" alt="10 combinations" style="margin: 5px 0 5px 0"></p><p>With permutations, we count every combination of three T-shirts 6 times, because there are 3! = 6 ways to order the three T-shirts. To get the number of combinations from the number of permutations we simply need to divide by 6. We write</p><p class="centre">5<strong>C</strong>3 &nbsp;=&nbsp; <span class="frac"><span class="frac-top">5<strong>P</strong>3</span><span class="frac-bot">3!</span></span> &nbsp;=&nbsp; <span class="frac"><span class="frac-top">60</span><span class="frac-bot">6</span></span> &nbsp;=&nbsp; 10.</p><p>Here the <strong>C</strong> stands for &#8220;<strong>c</strong>ombinations&#8221;. In general, if we want to choose <em>r</em> objects from a total of <em>n</em> there are</p><p class="centre"><em>n</em><strong>C</strong><em>r</em> &nbsp;=&nbsp; <span class="frac"><span class="frac-top"><em>n</em><strong>P</strong><em>r</em></span><span class="frac-bot"><em>r</em>!</span></span> &nbsp;=&nbsp; <span class="frac"><span class="frac-top"><em>n</em>!</span><span class="frac-bot"><em>r</em>! (<em>n</em> &#8211; <em>r</em>)!</span></span></p><p>different combinations. Instead of <em>n</em><strong>C</strong><em>r</em> mathematicians often write <em>n</em><strong>C</strong><em>r</em> = <span class="sbrac">(</span><span class="sbin"><span class="sbin-top"><em>n</em></span><span class="sbin-bot"><em>r</em></span></span><span class="sbrac">)</span>, like a fraction in brackets but without the line in between. <span class="lgrey">(To simplify typesetting we will continue using the first notation inline.)</span></p><div class="box frame tabbed"><div class="boxTabBar boxTabBar50"><div class="boxTabLink on">Exercises</div><div class="boxTabLink">Solutions</div></div><div class="boxWrap on"><div class="boxTextWrap"><div class="rbox"><img src="resources/Combinatorics/party.jpg" width="320" height="200" alt="Party"></div><p>(a) There are 10 children in your class but you can invite only 5 to your birthday party. How many different combinations of friends could you invite? Explain whether to use combinations or permutations.</p><p>(b) At a party there are 75 people. Everybody shakes everybodyâ€™s hand once. How often are hands shaken in total? <em>Hint: How many people are involved in shaking hands?</em></p><div class="clear"></div></div></div><div class="boxWrap"><div class="boxTextWrap"><p>(a) The number of combinations of friends you can invite is 10<strong>C</strong>5 = 252. We used combinations because it doesn&#8217; matter <em>which order</em> we invite the friends in, on <em>which ones</em> we invite.</p><p>(b) You want to find the number of all possible pairs of party guests. This is simply 75<strong>C</strong>2 = 2775. (That&#8217;s a lot of handshakes!)</p></div></div></div><h2>Combinatorics and Pascal&#8217;s Triangle</h2><p>Let us now calculate some values of <em>n</em><strong>C</strong><em>r</em>. We can start with 0<strong>C</strong>0. Then 1<strong>C</strong>0 and 1<strong>C</strong>1. Then 2<strong>C</strong>0, 2<strong>C</strong>1 and 2<strong>C</strong>2. Than 3<strong>C</strong>0, 3<strong>C</strong>1, 3<strong>C</strong>2 and 3<strong>C</strong>3. Let us write down the results in a table:</p><table width="450" border="0" class="tableFixed tableSmall" style="width: 450px"><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td colspan="2" class="seq_pasc_cell"><span class="lgrey">0<strong>C</strong>0 =</span>1</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td colspan="4">&nbsp;</td><td colspan="2" class="seq_pasc_cell"><span class="lgrey">1<strong>C</strong>0 =</span>1</td><td colspan="2" class="seq_pasc_cell"><span class="lgrey">1<strong>C</strong>1 =</span>1</td><td>&nbsp;</td><td colspan="3">&nbsp;</td></tr><tr><td colspan="3">&nbsp;</td><td colspan="2" class="seq_pasc_cell"><span class="lgrey">2<strong>C</strong>0 =</span>1</td><td colspan="2" class="seq_pasc_cell"><span class="lgrey">2<strong>C</strong>1 =</span>2</td><td colspan="2" class="seq_pasc_cell"><span class="lgrey">2<strong>C</strong>2 =</span>1</td><td>&nbsp;</td><td colspan="2">&nbsp;</td></tr><tr><td colspan="2">&nbsp;</td><td colspan="2" class="seq_pasc_cell"><span class="lgrey">3<strong>C</strong>0 =</span>1</td><td colspan="2" class="seq_pasc_cell"><span class="lgrey">3<strong>C</strong>1 =</span>3</td><td colspan="2" class="seq_pasc_cell"><span class="lgrey">3<strong>C</strong>2 =</span>3</td><td colspan="2" class="seq_pasc_cell"><span class="lgrey">3<strong>C</strong>3 =</span>1</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>&nbsp;</td><td colspan="2" class="seq_pasc_cell"><span class="lgrey">4<strong>C</strong>0 =</span>1</td><td colspan="2" class="seq_pasc_cell"><span class="lgrey">4<strong>C</strong>1 =</span>4</td><td colspan="2" class="seq_pasc_cell"><span class="lgrey">4<strong>C</strong>2 =</span>6</td><td colspan="2" class="seq_pasc_cell"><span class="lgrey">4<strong>C</strong>3 =</span>4</td><td colspan="2" class="seq_pasc_cell"><span class="lgrey">4<strong>C</strong>4 =</span>1</td><td>&nbsp;</td></tr><tr><td colspan="2" class="seq_pasc_cell"><span class="lgrey">5<strong>C</strong>0 =</span>1</td><td colspan="2" class="seq_pasc_cell"><span class="lgrey">5<strong>C</strong>1 =</span>5</td><td colspan="2" class="seq_pasc_cell"><span class="lgrey">5<strong>C</strong>2 =</span>10</td><td colspan="2" class="seq_pasc_cell"><span class="lgrey">5<strong>C</strong>3 =</span>10</td><td colspan="2" class="seq_pasc_cell"><span class="lgrey">5<strong>C</strong>4 =</span>5</td><td colspan="2" class="seq_pasc_cell"><span class="lgrey">5<strong>C</strong>5 =</span>1</td></tr></table><p>This is exactly Pascal&#8217;s triangle which we explored in the article on <a href="Sequences">sequences</a>. It can be created more easily by observing that any cell is the sum of the two cells above. Hidden in Pascal&#8217;s triangle there are countless patterns and number sequences.</p><div class="rbox"><img src="resources/Combinatorics/pascal.png" width="151" height="61" alt="pascal"></div><p>Now we also know that the <em>r</em>th number in the <em>n</em>th row is also given by <em>n</em><strong>C</strong><em>r</em> (but we always have to start counting at 0, so the first row or column is actually the zeroth row). If we apply what we know about creating Pascal&#8217;s triangle to our combinations, we get</p><p class="centre"><span class="brac">(</span><span class="bin"><span class="bin-top"><em>n</em></span><span class="frac-bot"><em>r</em></span></span><span class="brac">)</span> + <span class="brac">(</span><span class="bin"><span class="bin-top"><em>n</em></span><span class="frac-bot"><em>r</em> + 1</span></span><span class="brac">)</span> = <span class="brac">(</span><span class="bin"><span class="bin-top"><em>n</em> + 1</span><span class="frac-bot"><em>r</em> + 1</span></span><span class="brac">)</span> .</p><p>This is known as <strong>Pascal&#8217;s Identity</strong>. You can derive it using the definition of <em>n</em><strong>C</strong><em>r</em> in terms of factorials, or you can think about it the following way:</p><blockquote><p><em>We want to choose r</em> + 1<em>objects from a set of n</em> + 1<em>objects. This is exactly the same as marking one object of the n</em>+ 1<em>, to be called X, and either choosing X plus r others (from the remaining n), or not choosing X and</em><em>r</em> + 1<em>others (from the remaining n).</em></p></blockquote><p>Many problems in combinatorics have a simple solution if you think about it the correct way, and a very complicated solution if you just try to use algebra&#8230;</p><div class="box frame tabbed"><div class="boxTabBar"><div class="boxTabLink on">Stars and Bars</div><div class="boxTabLink">Solution</div><div class="boxTabLink">Example</div></div><div class="boxWrap on"><div class="boxTextWrap"><p>A greengrocer on a market stocks a large number of <em>n</em> different kinds of fruit. In how many ways can we make up a bag of <em>r</em> fruits? Note that <em>r</em> can be smaller, equal or bigger than <em>n</em>.</p></div></div><div class="boxWrap"><div class="boxTextWrap"><div class="rbox"><img src="resources/Combinatorics/fruit.jpg" width="320" height="200" alt="Fruit"></div><p>Note that with <em>r</em> &le; <em>n</em> there are <em>n</em><strong>C</strong><em>r</em> ways to select one fruit from each kind. However we are also allowed to take more than one fruit of each kind, for example two apples, one strawberry and one banana.</p><p>We can represent any valid selection of fruit by a string of stars and bars, as shown in this example:</p><table width="360" border="0" class="tableSmall"><tr><td>&#9733;&#9733;&#9733;</td><td>|</td><td>&#9733;&#9733;</td><td>|</td><td>&nbsp;</td><td>|</td><td>&#9733;&#9733;</td><td>|</td><td>&#9733;</td></tr><tr class="caption"><td>3 of type 1</td><td>&nbsp;</td><td>2 of type 2</td><td>&nbsp;</td><td>0 of type 3</td><td>&nbsp;</td><td>2 of type 4</td><td>&nbsp;</td><td>1 of type 5</td></tr></table><p>In total there are <em>r</em> stars (representing the <em>r</em> fruit we are allowed to take) and there are <em>n</em> &#8211; 1 bars (dividing the <em>n</em> different kinds of fruit). This makes <em>r</em> + <em>n</em> &#8211; 1 places in total. Any ordering of <em>r</em> stars and <em>n</em> &#8211; 1 bars corresponds to precisely one valid selection of fruit.</p><p>Now we can apply our combinatorial tools: there are <em>r</em> + <em>n</em> &#8211; 1 places and we want to choose <em>n</em> &#8211; 1 of them to be bars (all the others are stars). That there are exactly (<em>r</em> + <em>n</em> &#8211; 1)<strong>C</strong>(<em>n</em> &#8211; 1) possibilities to do that!</p></div></div><div class="boxWrap"><div class="boxTextWrap"><p>Suppose there are five kinds of fruit and we want to take ten items. From what we have calculated above, there are</p><p class="centre">(10 + 5 &#8211; 1)<strong>C</strong>(5 &#8211; 1) = 14<strong>C</strong>4 = 24,024</p><p>possibilities. Think about that next time you go shopping!</p></div></div></div><h2>Combinatorics and Probability</h2><p>Combinatorics has many applications in <a href="Probability">probability theory</a>. You often want to find the probability of one particular event and you can use the equation</p><p class="centre"><em>P</em>(<em>X</em>) &nbsp;=&nbsp; probability that <em>X</em> happens &nbsp;=&nbsp; <span class="frac"><span class="frac-top">number of outcomes where <em>X</em> happens</span><span class="frac-bot">total number of possible outcomes</span></span></p><p>You can use combinatorics to calculate the &#8220;total number of possible outcomes&#8221;. Here is an example:</p><blockquote><p><em>Four children, called A, B, C and D, sit randomly on four chairs. What is the probability that A sits on the first chair?</em></p></blockquote><p>We have already shown that in total there are 24 ways to sit on four chairs. If you look back at our solution, you will also find that A sits on the first chair in six of the cases. Therefore</p><p class="centre"><em>P</em>(A sits on the first chair) &nbsp;=&nbsp; <span class="frac"><span class="frac-top">number of outcomes where A sits on the first chair</span><span class="frac-bot">total number of possible outcomes</span></span> &nbsp;=&nbsp; <span class="frac"><span class="frac-top">6</span><span class="frac-bot">24</span></span> &nbsp;=&nbsp; <span class="frac"><span class="frac-top">1</span><span class="frac-bot">4</span></span>.</p><p>This answer was expected, since each of the four children is equally likely to sit on the first chair. But other cases are not quite as straightforward&#8230;</p><div class="box frame tabbed"><div class="boxTabBar boxTabBar50"><div class="boxTabLink on">Exercises</div><div class="boxTabLink">Solutions</div></div><div class="boxWrap on"><div class="boxTextWrap"><div class="rbox" style="margin-bottom:0"><img src="resources/Combinatorics/lotto.jpg" width="320" height="200" alt="Lotto Balls"></div><p>(a) A postman has to deliver four letters to four different houses in a street. Unfortunately the rain has erased the addresses, so he just distributes them randomly, one letter per house. What is the probability that every house gets the right letter? <span class="dgrey">(&#9734; What is the probability that every house gets a wrong letter?)</span></p><p>(b) In a lottery you have to guess 6 out of 49 numbers. What is the probability that you get all of them right? If submit 100 guesses every week, how long on average will it take you to win?</p><div class="clear"></div></div></div><div class="boxWrap"><div class="boxTextWrap"><p>(a) There are 4! = 24 ways to randomly distribute the letters, and only one way to get all of them right. Thus the probability that every letter is delivered to the right house is 1 / 24 = 0.0417 = 4.17%.</p><p class="dgrey">To find the probability that every letter gets delivered to the wrong house is a bit more difficult. It is not simply 1 &#8211; 0.0417, since there are many cases in which one or two, but not <em>all</em> houses get the right letter. In this simple case, the easiest solution would be to write down all 24 possibilities. You will find that in 9 out of the 24 cases every house gets a wrong letter, which gives a probability of 0.375 = 37.5%. If there more too many houses to write down all possibilities, you can use an idea called the <strong>Inclusion Exclusion principle</strong>.</p><p>(b) There are 49<strong>C</strong>6 = 10,068,347,520 possible outcomes of the lottery, so the probability of getting the right solution is 1 / 49<strong>C</strong>6 = 0.0000000001.</p><p>On average it will also take 10,068,347,520 attempts to win. If we submit 100 guesses every week this corresponds to 100,683,475 week, which is the same as 1,936,200 years. The lesson to learn: don&#8217;t play lotto!</p></div></div></div></div></div><div class="bottomBar"></div></article><script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.js"></script><script>window.jQuery || document.write('<script src="scripts/jquery-203.js"><\/script>')</script><script src="/scripts/layout.min.js?v=5"></script><script type="text/javascript" src="//assets.pinterest.com/js/pinit.js"></script><script>window.ga = window.ga || function() { (ga.q = ga.q||[]).push(arguments) }; ga.l = 1 * new Date();
      ga('create', 'UA-37525836-3', 'auto', {'cookieDomain': 'mathigon.org'});
      ga('require', 'displayfeatures');
      ga('send', 'pageview');</script><script async src="https://www.google-analytics.com/analytics.js"></script><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script></body></html>